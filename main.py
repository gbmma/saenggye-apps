import streamlit as st

st.set_page_config(
  page_icon="âœ…",
  page_title="ê²½ê¸°ë¶ë¶€ì²­ ìƒê³„ê°ë©´ ì§„ë‹¨",
)

def self_diagnosis_page():
    st.title("ìƒê³„ê³¤ë€ì‚¬ìœ  ë³‘ì—­ê°ë©´ ìê°€ì§„ë‹¨")

    # ì‚¬ìš©ìë¡œë¶€í„° ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ì…ë ¥ë°›ìŠµë‹ˆë‹¤.
    age = st.slider("ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”", min_value=18, max_value=40, value=20)
    military_service = st.selectbox("êµ° ë³µë¬´ ê²½ë ¥ì´ ìˆìŠµë‹ˆê¹Œ?", ["ì—†ìŒ", "ìˆìŒ"])
    income = st.number_input("ê°€ê³„ ì†Œë“ì„ ì…ë ¥í•˜ì„¸ìš” (ì›)", min_value=0, step=1000000, value=0)
    property = st.number_input("ì¬ì‚° ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš” (ì›)", min_value=0, step=1000000, value=0)
    family_members = st.slider("ê°€ì¡± ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”", min_value=1, max_value=10, value=1)
    health_status = st.selectbox("ê±´ê°• ìƒíƒœë¥¼ ì„ íƒí•˜ì„¸ìš”", ["ì§ˆë³‘/ì¥í•´ ìˆìŒ", "ì§ˆë³‘/ì¥í•´ ì—†ìŒ"]) 

    # "ê²°ê³¼ í™•ì¸í•˜ê¸°" ë²„íŠ¼ì„ ìƒì„±í•©ë‹ˆë‹¤.
    if st.button("ê²°ê³¼ í™•ì¸í•˜ê¸°"):
        result = military_exemption_diagnosis(income, family_members, health_status, military_service)
        st.subheader("ìƒê³„ê³¤ë€ì‚¬ìœ  ë³‘ì—­ê°ë©´ ì§„ë‹¨ ê²°ê³¼:")
        st.write(result)

def military_exemption_diagnosis(income, family_members, health_status, military_service):
    # ìƒê³„ê³¤ë€ì‚¬ìœ  ë³‘ì—­ê°ë©´ ì§„ë‹¨ ë¡œì§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
    income_criteria = income < 3000000  # ê°€ê³„ ì†Œë“ì´ 3,000,000ì› ë¯¸ë§Œì¸ ê²½ìš°
    property_criteria = income < 10000000  # ì¬ì‚° ê¸ˆì•¡ì´ 10,000,000ì› ë¯¸ë§Œì¸ ê²½ìš°
    family_criteria = family_members <= 4  # ê°€ì¡± ìˆ˜ê°€ 4ëª… ì´í•˜ì¸ ê²½ìš°
    health_criteria = health_status == "ì§ˆë³‘/ì¥í•´ ìˆìŒ"  # ê±´ê°• ìƒíƒœê°€ ì§ˆë³‘/ì¥í•´ ìˆëŠ” ê²½ìš°
    military_criteria = military_service == "ìˆìŒ"  # êµ° ë³µë¬´ ê²½ë ¥ì´ ìˆëŠ” ê²½ìš°

    # ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    if income_criteria or family_criteria or health_criteria or military_criteria:
        return "ìƒê³„ê³¤ë€ì‚¬ìœ ë¡œ ë³‘ì—­ê°ë©´ì´ ê°€ëŠ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ì‚¬í•­ì€ ë‹´ë‹¹ìì—ê²Œ ë¬¸ì˜ ë°”ëë‹ˆë‹¤."
    else:
        return "í˜„ì¬ ì¡°ê±´ìœ¼ë¡œëŠ” ë³‘ì—­ê°ë©´ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤."

def home_page():
    st.title("ë³‘ì—­ê°ë©´ ìê°€ì§„ë‹¨ ì‹œìŠ¤í…œ")

    st.write("ë³‘ì—­ê°ë©´ ìê°€ì§„ë‹¨ ì‹œìŠ¤í…œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!\nì´ ì‹œìŠ¤í…œì„ í†µí•´ ìƒê³„ê³¤ë€ì‚¬ìœ ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë³‘ì—­ê°ë©´ ì—¬ë¶€ë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒì„¸í•œ ì‹¬ì‚¬ëŠ” ë‹´ë‹¹ìì—ê²Œ ë¬¸ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.")
    
    st.header("ìƒê³„ìœ ì§€ ê³¤ë€ì‚¬ìœ  ë³‘ì—­ê°ë©´ì œë„ë€?")
    st.write("ë³¸ì¸ì´ ì•„ë‹ˆë©´ ê°€ì¡±ì˜ ìƒê³„ë¥¼ ìœ ì§€í•  ìˆ˜ ì—†ëŠ” ì‚¬ëŒì— ëŒ€í•´ 1ï¸âƒ£ê°€ì¡±ì˜ ë¶€ì–‘ë¹„, 2ï¸âƒ£ì¬ì‚°ì•¡, 3ï¸âƒ£ì›”ìˆ˜ì…ì•¡ì´ ë³‘ì—­ê°ë©´ ê¸°ì¤€ì— ëª¨ë‘ í•´ë‹¹ë˜ëŠ” ê²½ìš° ì „ì‹œê·¼ë¡œì—­ìœ¼ë¡œ í¸ì…ë˜ì–´ ê²½ì œì  ë°°ë ¤ëŒ€ìƒìì˜ ìƒí™œ ì•ˆì •ì„ ë„ëª¨í•˜ê¸° ìœ„í•œ ì œë„ì…ë‹ˆë‹¤.")

link_url = "https://blog.naver.com/mma9090/223372410453"

# ë°”ë¡œê°€ê¸° ë²„íŠ¼ ìƒì„±
if st.button("ë³‘ë¬´ì²­ ë¸”ë¡œê·¸ ë°”ë¡œê°€ê¸°"):
    # ë²„íŠ¼ í´ë¦­ ì‹œ í•´ë‹¹ ë§í¬ë¡œ ì´ë™
    st.markdown(f"[ìƒê³„ìœ ì§€ ê³¤ë€ì‚¬ìœ  ë³‘ì—­ê°ë©´ ê°œì„ ì‚¬í•­, í•œëˆˆì— ì•Œì•„ë³´ì•„ìš”!]({link_url})")
  
    st.header("ìê°€ì§„ë‹¨ ë°©ë²•")
    st.write("1. ì™¼ìª½ì˜ ì‚¬ì´ë“œë°”ì—ì„œ 'ìê°€ì§„ë‹¨í•˜ê¸°'ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.")
    st.write("2. ë‚˜íƒ€ë‚œ í˜ì´ì§€ì—ì„œ ê°€ê³„ ì†Œë“, ê°€ì¡± ìˆ˜, ê±´ê°• ìƒíƒœ, êµ° ë³µë¬´ ê²½ë ¥ ë“±ì„ ì…ë ¥í•©ë‹ˆë‹¤.")
    st.write("3. 'ê²°ê³¼ í™•ì¸í•˜ê¸°' ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë³‘ì—­ê°ë©´ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.")
    

# Streamlit ì•± ì‹¤í–‰
if __name__ == '__main__':
    st.sidebar.title("ê²½ê¸°ë¶ë¶€ë³‘ë¬´ì²­ ìƒê³„ì‹¬ì‚¬")
    page_options = ["ğŸ“ìê°€ì§„ë‹¨í•˜ê¸°","ğŸ“–ì•ˆë‚´ ì‚¬í•­"]
    selected_page = st.sidebar.selectbox("ğŸ”í™•ì¸í•˜ê³  ì‹¶ì€ ì‚¬í•­ì„ ì„ íƒí•˜ì„¸ìš”", page_options)

    # ì„ íƒëœ í˜ì´ì§€ì— ë”°ë¼ ë‚´ìš© ì¶œë ¥
    if selected_page == "ğŸ“ìê°€ì§„ë‹¨í•˜ê¸°":
        self_diagnosis_page() 
    elif selected_page == "ğŸ“–ì•ˆë‚´ ì‚¬í•­":
        home_page()
